// ***************************************************************************
// *  Copyright 2015 Todd S. Murchison
// *
// *  Licensed under the Apache License, Version 2.0 (the "License");
// *  you may not use this file except in compliance with the License.
// *  You may obtain a copy of the License at
// *
// *      http://www.apache.org/licenses/LICENSE-2.0
// *
// *  Unless required by applicable law or agreed to in writing, software
// *  distributed under the License is distributed on an "AS IS" BASIS,
// *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// *  See the License for the specific language governing permissions and
// *  limitations under the License.
// ***************************************************************************
package net.toddm.comm.android;

import android.app.Application;
import android.test.ApplicationTestCase;

import junit.framework.Assert;

import net.toddm.cache.CacheEntry;
import net.toddm.cache.CachePriority;
import net.toddm.cache.DefaultLogger;
import net.toddm.cache.android.DBCacheProvider;

/**
 * Implements unit tests specific to the <B>Android</B> Communications Framework
 * extension of the <i>net.toddm.comm</i> Communications Framework.
 * <p/>
 *
 * @author Todd S. Murchison
 */
public class TestAndroidCommFramework extends ApplicationTestCase<Application> {
    public TestAndroidCommFramework() { super(Application.class); }

    public void testDBCacheProvider() throws Exception {

        // Make use of the caching framework testing validation method to help validate our database cache provider implementation
        DBCacheProvider cache = DBCacheProvider.getInstance(this.getContext(), "test_namespace", 1, 100, new DefaultLogger());
        net.toddm.cache.tests.MainTest.validateCachingFunctionality(cache);
    }

    public void testDBCacheProviderInvalidateCache() throws Exception {

        // Make use of the comm framework testing validation method to help validate our database cache provider implementation
        DBCacheProvider cache = DBCacheProvider.getInstance(this.getContext(), "testDBCacheProviderInvalidateCache", 1, 100, new DefaultLogger());
        net.toddm.comm.tests.TestResponse.validateInvalidateCache(cache);
    }

    public void testDBCacheProviderPurgeCache() throws Exception {

        // Make use of the comm framework testing validation method to help validate our database cache provider implementation
        DBCacheProvider cache = DBCacheProvider.getInstance(this.getContext(), "validatePurgeCache", 1, 100, new DefaultLogger());
        net.toddm.comm.tests.TestResponse.validatePurgeCache(cache);
    }

    public void testDBCacheProviderAdditional() throws Exception {

        // Do any additional testing of the DBCacheProvider not covered by the standard validateCachingFunctionality() method (see above)
        DBCacheProvider cache = DBCacheProvider.getInstance(this.getContext(), "test_namespace", 1, 100, new DefaultLogger());
        cache.removeAll();
        Assert.assertEquals(0, cache.size(true));
        Assert.assertEquals(0, cache.size(false));
        cache.add("test_key", "test_value", 100, 0, null, null, CachePriority.NORMAL);
        Assert.assertEquals(1, cache.size(true));
        Assert.assertEquals(1, cache.size(false));
        Thread.sleep(101);
        Assert.assertEquals(1, cache.size(true));
        Assert.assertEquals(0, cache.size(false));
    }

    public void testDBCacheProviderLargeInsert() throws Exception {

        // Do any additional testing of the DBCacheProvider not covered by the standard validateCachingFunctionality() method (see above)
        DBCacheProvider cache = DBCacheProvider.getInstance(this.getContext(), "test_namespace_large", 1, 100, new DefaultLogger());
        cache.removeAll();
        Assert.assertEquals(0, cache.size(true));
        Assert.assertEquals(0, cache.size(false));
        Assert.assertTrue(cache.add("test_key", LargeCacheValue, 100, 0, null, null, CachePriority.NORMAL));
        Assert.assertEquals(1, cache.size(true));
        Assert.assertEquals(1, cache.size(false));
        Thread.sleep(101);
        Assert.assertEquals(1, cache.size(true));
        Assert.assertEquals(0, cache.size(false));
    }

    public void testDBCacheProviderLargeUpdate() throws Exception {

        // Do any additional testing of the DBCacheProvider not covered by the standard validateCachingFunctionality() method (see above)
        DBCacheProvider cache = DBCacheProvider.getInstance(this.getContext(), "test_namespace", 1, 100, new DefaultLogger());
        cache.removeAll();
        Assert.assertEquals(0, cache.size(true));
        Assert.assertEquals(0, cache.size(false));
        Assert.assertTrue(cache.add("test_key", "test_value", 100, 0, null, null, CachePriority.NORMAL));
        Assert.assertTrue(cache.add("test_key", LargeCacheValue, 100, 0, null, null, CachePriority.NORMAL));
        Assert.assertEquals(1, cache.size(true));
        Assert.assertEquals(1, cache.size(false));
        Thread.sleep(101);
        Assert.assertEquals(1, cache.size(true));
        Assert.assertEquals(0, cache.size(false));
    }

    private static final String LargeCacheValue = "{\"campaigns\": [{\"end\": 1477983540000, \"detection_threshold\": 10.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1483257540000, \"detection_threshold\": 14.0, \"start\": 1450339200000, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\", \"message\": {\"notification_title\": \"Welcome to Best Buy!\", \"notification_message\": \"bertha, welcome to Best Buy! Get THOUSANDS of kicks for purchases here. Open the app, walk in + show your code at checkout.\", \"department_messaging_config_id\": \"16240690010\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/anon/webview?url=http%3A%2F%2F1fbca2c56dadfdb269a6-a0d21e11290aff028a936e57abbd823d.r73.cf1.rackcdn.com%2FBestBuy_BarcodeEducationCampaign_2016%2Fsk_bbuy_pos-awareness-20160307%2520%25282%2529.html&show_header=0&show_nav_bar=0\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-QbzWgduGQQ.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://c1928682.cdn.cloudfiles.rackspacecloud.com/white-logo-image-130x50-x5GKLV8hC8.png#2x\"}, {\"text\": \"Get 1,000s of Kicks!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"16240690010\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1477983540000, \"detection_threshold\": 14.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 10.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\"}, {\"start\": 1455264000000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\"}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\"}], \"common\": {\"request_id\": \"ChPAjQAAbmUABT2JQ+/QCA\"}}{\"campaigns\": [{\"end\": 1477983540000, \"detection_threshold\": 10.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1483257540000, \"detection_threshold\": 14.0, \"start\": 1450339200000, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\", \"message\": {\"notification_title\": \"Welcome to Best Buy!\", \"notification_message\": \"bertha, welcome to Best Buy! Get THOUSANDS of kicks for purchases here. Open the app, walk in + show your code at checkout.\", \"department_messaging_config_id\": \"16240690010\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/anon/webview?url=http%3A%2F%2F1fbca2c56dadfdb269a6-a0d21e11290aff028a936e57abbd823d.r73.cf1.rackcdn.com%2FBestBuy_BarcodeEducationCampaign_2016%2Fsk_bbuy_pos-awareness-20160307%2520%25282%2529.html&show_header=0&show_nav_bar=0\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-QbzWgduGQQ.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://c1928682.cdn.cloudfiles.rackspacecloud.com/white-logo-image-130x50-x5GKLV8hC8.png#2x\"}, {\"text\": \"Get 1,000s of Kicks!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"16240690010\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1477983540000, \"detection_threshold\": 14.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 10.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\"}, {\"start\": 1455264000000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\"}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\"}], \"common\": {\"request_id\": \"ChPAjQAAbmUABT2JQ+/QCA\"}}{\"campaigns\": [{\"end\": 1477983540000, \"detection_threshold\": 10.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1483257540000, \"detection_threshold\": 14.0, \"start\": 1450339200000, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\", \"message\": {\"notification_title\": \"Welcome to Best Buy!\", \"notification_message\": \"bertha, welcome to Best Buy! Get THOUSANDS of kicks for purchases here. Open the app, walk in + show your code at checkout.\", \"department_messaging_config_id\": \"16240690010\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/anon/webview?url=http%3A%2F%2F1fbca2c56dadfdb269a6-a0d21e11290aff028a936e57abbd823d.r73.cf1.rackcdn.com%2FBestBuy_BarcodeEducationCampaign_2016%2Fsk_bbuy_pos-awareness-20160307%2520%25282%2529.html&show_header=0&show_nav_bar=0\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-QbzWgduGQQ.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://c1928682.cdn.cloudfiles.rackspacecloud.com/white-logo-image-130x50-x5GKLV8hC8.png#2x\"}, {\"text\": \"Get 1,000s of Kicks!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"16240690010\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1477983540000, \"detection_threshold\": 14.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 10.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\"}, {\"start\": 1455264000000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\"}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\"}], \"common\": {\"request_id\": \"ChPAjQAAbmUABT2JQ+/QCA\"}}{\"campaigns\": [{\"end\": 1477983540000, \"detection_threshold\": 10.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1483257540000, \"detection_threshold\": 14.0, \"start\": 1450339200000, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\", \"message\": {\"notification_title\": \"Welcome to Best Buy!\", \"notification_message\": \"bertha, welcome to Best Buy! Get THOUSANDS of kicks for purchases here. Open the app, walk in + show your code at checkout.\", \"department_messaging_config_id\": \"16240690010\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/anon/webview?url=http%3A%2F%2F1fbca2c56dadfdb269a6-a0d21e11290aff028a936e57abbd823d.r73.cf1.rackcdn.com%2FBestBuy_BarcodeEducationCampaign_2016%2Fsk_bbuy_pos-awareness-20160307%2520%25282%2529.html&show_header=0&show_nav_bar=0\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-QbzWgduGQQ.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://c1928682.cdn.cloudfiles.rackspacecloud.com/white-logo-image-130x50-x5GKLV8hC8.png#2x\"}, {\"text\": \"Get 1,000s of Kicks!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"16240690010\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1477983540000, \"detection_threshold\": 14.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 10.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\"}, {\"start\": 1455264000000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\"}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\"}], \"common\": {\"request_id\": \"ChPAjQAAbmUABT2JQ+/QCA\"}}{\"campaigns\": [{\"end\": 1477983540000, \"detection_threshold\": 10.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1483257540000, \"detection_threshold\": 14.0, \"start\": 1450339200000, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\", \"message\": {\"notification_title\": \"Welcome to Best Buy!\", \"notification_message\": \"bertha, welcome to Best Buy! Get THOUSANDS of kicks for purchases here. Open the app, walk in + show your code at checkout.\", \"department_messaging_config_id\": \"16240690010\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/anon/webview?url=http%3A%2F%2F1fbca2c56dadfdb269a6-a0d21e11290aff028a936e57abbd823d.r73.cf1.rackcdn.com%2FBestBuy_BarcodeEducationCampaign_2016%2Fsk_bbuy_pos-awareness-20160307%2520%25282%2529.html&show_header=0&show_nav_bar=0\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-QbzWgduGQQ.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://c1928682.cdn.cloudfiles.rackspacecloud.com/white-logo-image-130x50-x5GKLV8hC8.png#2x\"}, {\"text\": \"Get 1,000s of Kicks!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"16240690010\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1477983540000, \"detection_threshold\": 14.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 10.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\"}, {\"start\": 1455264000000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\"}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\"}], \"common\": {\"request_id\": \"ChPAjQAAbmUABT2JQ+/QCA\"}}{\"campaigns\": [{\"end\": 1477983540000, \"detection_threshold\": 10.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1483257540000, \"detection_threshold\": 14.0, \"start\": 1450339200000, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\", \"message\": {\"notification_title\": \"Welcome to Best Buy!\", \"notification_message\": \"bertha, welcome to Best Buy! Get THOUSANDS of kicks for purchases here. Open the app, walk in + show your code at checkout.\", \"department_messaging_config_id\": \"16240690010\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/anon/webview?url=http%3A%2F%2F1fbca2c56dadfdb269a6-a0d21e11290aff028a936e57abbd823d.r73.cf1.rackcdn.com%2FBestBuy_BarcodeEducationCampaign_2016%2Fsk_bbuy_pos-awareness-20160307%2520%25282%2529.html&show_header=0&show_nav_bar=0\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-QbzWgduGQQ.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://c1928682.cdn.cloudfiles.rackspacecloud.com/white-logo-image-130x50-x5GKLV8hC8.png#2x\"}, {\"text\": \"Get 1,000s of Kicks!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"16240690010\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1477983540000, \"detection_threshold\": 14.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 10.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\"}, {\"start\": 1455264000000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\"}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\"}], \"common\": {\"request_id\": \"ChPAjQAAbmUABT2JQ+/QCA\"}}{\"campaigns\": [{\"end\": 1477983540000, \"detection_threshold\": 10.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1483257540000, \"detection_threshold\": 14.0, \"start\": 1450339200000, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\", \"message\": {\"notification_title\": \"Welcome to Best Buy!\", \"notification_message\": \"bertha, welcome to Best Buy! Get THOUSANDS of kicks for purchases here. Open the app, walk in + show your code at checkout.\", \"department_messaging_config_id\": \"16240690010\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/anon/webview?url=http%3A%2F%2F1fbca2c56dadfdb269a6-a0d21e11290aff028a936e57abbd823d.r73.cf1.rackcdn.com%2FBestBuy_BarcodeEducationCampaign_2016%2Fsk_bbuy_pos-awareness-20160307%2520%25282%2529.html&show_header=0&show_nav_bar=0\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-QbzWgduGQQ.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://c1928682.cdn.cloudfiles.rackspacecloud.com/white-logo-image-130x50-x5GKLV8hC8.png#2x\"}, {\"text\": \"Get 1,000s of Kicks!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"16240690010\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1477983540000, \"detection_threshold\": 14.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 10.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\"}, {\"start\": 1455264000000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\"}, {\"start\": 1473836400000, \"type\": 1, \"detection_threshold\": 14.0, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\"}], \"common\": {\"request_id\": \"ChPAjQAAbmUABT2JQ+/QCA\"}}{\"campaigns\": [{\"end\": 1477983540000, \"detection_threshold\": 10.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063710794\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-j41uSemQ7v.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/0-Y4pJg3NTND.png#2x\"}, {\"text\": \"Don't miss out!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"20844900031\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1483257540000, \"detection_threshold\": 14.0, \"start\": 1450339200000, \"zone_query\": \"retail.chain_id=40560331 and retail.department_id=1 and retail.store_id in (10063710057,10063710359)\", \"message\": {\"notification_title\": \"Welcome to Best Buy!\", \"notification_message\": \"bertha, welcome to Best Buy! Get THOUSANDS of kicks for purchases here. Open the app, walk in + show your code at checkout.\", \"department_messaging_config_id\": \"16240690010\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/anon/webview?url=http%3A%2F%2F1fbca2c56dadfdb269a6-a0d21e11290aff028a936e57abbd823d.r73.cf1.rackcdn.com%2FBestBuy_BarcodeEducationCampaign_2016%2Fsk_bbuy_pos-awareness-20160307%2520%25282%2529.html&show_header=0&show_nav_bar=0\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036fcb453796a8c5eb40c2.r50.cf1.rackcdn.com/24-QbzWgduGQQ.png#2x\"}, {\"frame\": {\"y\": 0, \"x\": 95, \"height\": 50, \"width\": 130}, \"image_url\": \"http://c1928682.cdn.cloudfiles.rackspacecloud.com/white-logo-image-130x50-x5GKLV8hC8.png#2x\"}, {\"text\": \"Get 1,000s of Kicks!\", \"frame\": {\"y\": 57, \"x\": 20, \"height\": 71, \"width\": 280}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 30}, \"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 30, \"font_name\": \"HelveticaNeue-Light\"}}]}, \"overlay_type\": \"layered\", \"configuration_id\": \"16240690010\", \"target_skurl\": \"sk://screen/__global/__global\", \"vertical_align_type\": 2, \"background_color\": \"#80000000\", \"department_id\": \"1\"}}, \"type\": 2}, {\"end\": 1477983540000, \"detection_threshold\": 14.0, \"start\": 1474354800000, \"zone_query\": \"retail.chain_id=40560383 and retail.department_id=1 and retail.store_id=10063720715\", \"message\": {\"notification_title\": \"Welcome to American Eagle!\", \"notification_message\": \"bertha, welcome to American Eagle! Open the app for 35 kicks + earn more when you purchase with a linked card.\", \"department_messaging_config_id\": \"20844900031\", \"overlay\": {\"buttons\": [{\"iphone_style\": {\"color\": \"ffffff\", \"font_size\": 18, \"font_name\": \"HelveticaNeue\"}, \"text\": \"Show me\", \"frame\": {\"y\": 393, \"x\": 135, \"height\": 44, \"width\": 170}, \"log_element_id\": 160, \"button_action\": {\"url\": \"sk://screen/top/generic_card_linking\", \"should_remain_open_after_action\": false, \"type\": 5}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 18}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_blue.png#2x\"}, {\"iphone_style\": {\"color\": \"bebebe\", \"font_size\": 13, \"font_name\": \"HelveticaNeue\"}, \"text\": \"No thanks\", \"frame\": {\"y\": 393, \"x\": 15, \"height\": 44, \"width\": 110}, \"log_element_id\": 159, \"button_action\": {\"type\": 1}, \"android_style\": {\"color\": \"ffffff\", \"font_style\": \"normal\", \"font_size\": 15}, \"image_url\": \"https://app2.shopkick.com/shopkick/images/ble_overlay/ble_overlay_button_gray.png#2x\"}], \"views\": {\"views\": [{\"bg_color\": \"FFFFFFFF\", \"frame\": {\"y\": 320000, \"x\": 0, \"height\": 290, \"width\": 100000}}, {\"frame\": {\"y\": 135, \"x\": 0, \"height\": 240, \"width\": 320}, \"image_url\": \"http://e5477f65955711758615-03ba61e808036";

}
